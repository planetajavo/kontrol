# ‚òÅÔ∏è KONTROL: Infraestructura, DevOps y Est√°ndares de Seguridad (DevOps Lead)

## 1. Estrategia de Infraestructura: Kubernetes (K8s) ‚öôÔ∏è

* **Cloud Provider:** **GCP (Google Cloud Platform)** o **AWS (EKS)**, priorizando la ubicaci√≥n geogr√°fica seg√∫n el mercado (Localizaci√≥n).
* **Orquestaci√≥n:** **Kubernetes (K8s)**.
    * **Justificaci√≥n:** Permite la **resiliencia** (self-healing) y la **escalabilidad horizontal** independiente de los microservicios (especialmente la capa de Ingestion/API y los Agentes).
    * **Despliegue de DBs:** ClickHouse y Neo4j se desplegar√°n como *StatefulSets* en K8s, utilizando vol√∫menes persistentes y *sidecars* para logging y monitoreo.
* **IaC (Infraestructura como C√≥digo):** Uso de **Terraform** para definir y desplegar todo el entorno, garantizando la **reproducibilidad** y la creaci√≥n r√°pida de nuevos entornos de **Localizaci√≥n**.

## 2. Pipeline CI/CD con GitOps üîÑ

Adoptamos un flujo **GitOps** con **ArgoCD** para la gesti√≥n de despliegues en K8s.

| Fase | Tarea Cr√≠tica | Herramientas | Objetivo |
| :--- | :--- | :--- | :--- |
| **Integraci√≥n Continua (CI)** | Linting, Tests Unitarios, **Security Scanning (SAST/DAST)**, *Docker Image Build*. | GitHub Actions, Rust Clippy, Go Vet. | Cobertura de Tests **m√≠nima del 80%** en el Matching Engine (Rust). |
| **Continuous Delivery (CD)** | Despliegue automatizado a Staging/Manual a Producci√≥n. | ArgoCD. | El *cluster* de K8s siempre refleja el estado exacto del repositorio Git. |

## 3. Est√°ndares de Seguridad y Observabilidad üõ°Ô∏è

* **Seguridad Interna (Confidencialidad):**
    * **mTLS (Mutual TLS):** Obligatorio para toda la comunicaci√≥n *service-to-service* dentro del *cluster* (evita ataques internos y garantiza la autenticaci√≥n).
    * **KMS (Key Management Service):** Uso de GCP Cloud KMS o AWS KMS para el almacenamiento seguro de API keys de exchanges y claves de cifrado.
* **Observabilidad:**
    * **M√©tricas:** **Prometheus/Grafana** para SLOs (Service Level Objectives) de la API (ej. latencia *p95* < 100ms) y el rendimiento de ClickHouse.
    * **Tracing:** Implementaci√≥n de **OpenTelemetry** para trazar solicitudes complejas a trav√©s de los m√∫ltiples microservicios (Ingestion -> Matching -> DB).